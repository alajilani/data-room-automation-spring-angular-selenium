{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/test-suite.service\";\nimport * as i2 from \"primeng/button\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../test-case/test-case.component\";\nimport * as i5 from \"primeng/dialog\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"primeng/inputtext\";\nimport * as i8 from \"primeng/dropdown\";\nimport * as i9 from \"primeng/api\";\n\nconst _c0 = function (a0) {\n  return {\n    \"selected-testcase\": a0\n  };\n};\n\nfunction TestListComponent_div_7_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 26);\n    i0.ɵɵlistener(\"click\", function TestListComponent_div_7_li_11_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const testCase_r7 = restoredCtx.$implicit;\n      const item_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.selectTestCase(testCase_r7, item_r5.testSuite);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const testCase_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, ctx_r6.selectedTestCase != null && ctx_r6.selectedTestCase.id == testCase_r7.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(testCase_r7.name);\n  }\n}\n\nfunction TestListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"li\")(2, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function TestListComponent_div_7_Template_div_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const item_r5 = restoredCtx.$implicit;\n      return item_r5.enabled = !item_r5.enabled;\n    });\n    i0.ɵɵelementStart(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 20)(7, \"i\", 21);\n    i0.ɵɵlistener(\"click\", function TestListComponent_div_7_Template_i_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.showTestCaseSaveDialog(item_r5.testSuite);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"i\", 22);\n    i0.ɵɵlistener(\"click\", function TestListComponent_div_7_Template_i_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.showTestSuiteSaveDialog(item_r5.testSuite);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"i\", 23);\n    i0.ɵɵlistener(\"click\", function TestListComponent_div_7_Template_i_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.deleteTestSuite(item_r5.testSuite.id);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"ul\", 24);\n    i0.ɵɵtemplate(11, TestListComponent_div_7_li_11_Template, 2, 4, \"li\", 25);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.enabled ? \"-\" : \"+\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.testSuite.name, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", !item_r5.enabled ? \"inactive-test-suite\" : \"active-test-suite\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r5.testSuite.testCases);\n  }\n}\n\nfunction TestListComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedTestSuite.name);\n  }\n}\n\nfunction TestListComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const testSuite_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(testSuite_r16.name);\n  }\n}\n\nfunction TestListComponent_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function TestListComponent_ng_template_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.displayModal = false;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function TestListComponent_ng_template_21_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.saveTestCase();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TestListComponent_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function TestListComponent_ng_template_27_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.displayTestSuiteModal = false;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function TestListComponent_ng_template_27_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.saveOrUpdateTestSuite();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c1 = function () {\n  return {\n    width: \"450px\"\n  };\n};\n\nconst _c2 = function (a0) {\n  return {\n    \"ng-invalid ng-dirty\": a0\n  };\n};\n\nexport let TestListComponent = /*#__PURE__*/(() => {\n  class TestListComponent {\n    constructor(testSuiteService) {\n      this.testSuiteService = testSuiteService;\n      this.itemList = [];\n      this.selectedTestCase = null;\n      this.displayModal = false;\n      this.testCaseName = null;\n      this.testSuiteName = null;\n      this.displayTestSuiteModal = false;\n      this.testSuiteList = null;\n      this.selectedTestSuite = null;\n      this.testSuiteUpdate = null;\n    }\n\n    ngOnInit() {\n      this.testSuiteService.getTestSuites().subscribe(testSuiteList => {\n        this.testSuiteList = testSuiteList;\n        this.initTestSuiteMenu();\n      }, error => console.log(error));\n    }\n\n    initTestSuiteMenu() {\n      this.testSuiteList.forEach(testSuite => {\n        this.itemList.push({\n          testSuite: testSuite,\n          enabled: false\n        });\n      });\n    }\n\n    showTestCaseSaveDialog(testSuite) {\n      this.displayModal = true;\n      this.selectedTestSuite = testSuite;\n      this.testCaseName = null;\n    }\n\n    saveTestCase() {\n      if (this.selectedTestSuite == null || !this.validTestCaseName()) return;\n      let testCase = {\n        id: null,\n        name: this.testCaseName,\n        testCaseRowOrder: []\n      };\n      let testSuite = this.selectedTestSuite;\n      this.testSuiteService.saveTestCase(testSuite.id, testCase).subscribe(testCase => {\n        testSuite.testCases.push(testCase);\n      }, error => console.log(error));\n      this.displayModal = false;\n    }\n\n    validTestCaseName() {\n      return this.testCaseName != \"\" && this.testCaseName != null;\n    }\n\n    deleteTestCase(testcase) {\n      let index;\n      let i;\n\n      for (i = 0; i < this.testSuiteList.length; i++) {\n        index = this.testSuiteList[i].testCases.indexOf(testcase);\n        if (index > 0) break;\n      }\n\n      this.testSuiteList[i].testCases.splice(index, 1);\n      this.itemList[i].testSuite.testCases.splice(index, 1);\n    }\n\n    selectTestCase(testCase, testSuite) {\n      this.selectedTestCase = testCase;\n      this.selectedTestSuite = testSuite;\n    }\n\n    validTestSuiteName() {\n      return this.testSuiteName != \"\" && this.testSuiteName != null;\n    }\n\n    saveTestSuite() {\n      let testSuite = {\n        id: null,\n        name: this.testSuiteName,\n        testCases: []\n      };\n      this.testSuiteService.saveTestSuite(testSuite).subscribe(testSuite => {\n        this.testSuiteList.push(testSuite);\n        this.itemList.push({\n          testSuite: testSuite,\n          enabled: false\n        });\n      }, error => console.log(error));\n      this.displayTestSuiteModal = false;\n    }\n\n    updateTestSuite(testSuite) {\n      let oldName = testSuite.name;\n      testSuite.name = this.testSuiteName;\n      this.testSuiteService.saveTestSuite(testSuite).subscribe(testSuite => {}, error => {\n        console.log(error);\n        testSuite.name = oldName;\n      });\n    }\n\n    saveOrUpdateTestSuite() {\n      if (this.testSuiteUpdate != null) {\n        this.updateTestSuite(this.testSuiteUpdate);\n      } else {\n        this.saveTestSuite();\n      }\n    }\n\n    showTestSuiteSaveDialog(testSuite) {\n      this.displayTestSuiteModal = true;\n\n      if (typeof testSuite !== \"undefined\") {\n        this.testSuiteUpdate = testSuite;\n        this.testSuiteName = testSuite.name;\n      } else {\n        this.testSuiteUpdate = null;\n        this.testSuiteName = \"\";\n      }\n    }\n\n    deleteTestSuite(testSuiteId) {\n      if (confirm('are you sure to delete this test suite ?')) this.testSuiteService.deleteTestSuite(testSuiteId).subscribe(reponse => {\n        this.testSuiteList = this.testSuiteList.filter(v => v.id !== testSuiteId);\n        this.itemList = this.itemList.filter(v => v.testSuite.id !== testSuiteId);\n      }, error => console.log(error));\n    }\n\n  }\n\n  TestListComponent.ɵfac = function TestListComponent_Factory(t) {\n    return new (t || TestListComponent)(i0.ɵɵdirectiveInject(i1.TestSuiteService));\n  };\n\n  TestListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TestListComponent,\n    selectors: [[\"app-test-list\"]],\n    decls: 28,\n    vars: 30,\n    consts: [[1, \"grid\", 2, \"height\", \"calc(100%)\", \"margin-top\", \"0\", \"margin-right\", \"0\"], [1, \"buttons\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-plus\", 1, \"p-button-rounded\", \"p-button-primary\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-cog\", 1, \"p-button-rounded\", \"p-button-secondary\", \"float-right\"], [1, \"testSuite\"], [\"class\", \"testSuiteContainer\", 4, \"ngFor\", \"ngForOf\"], [1, \"container\"], [3, \"testSuite\", \"testCase\", \"deleteTestCaseEvent\"], [\"header\", \"Add Test Case\", 3, \"visible\", \"modal\", \"draggable\", \"resizable\", \"visibleChange\"], [1, \"form-group\", \"grid\"], [1, \"col-12\", \"md:col-4\"], [\"type\", \"text\", \"pInputText\", \"\", 1, \"ng-invalid\", \"ng-dirty\", 3, \"ngClass\", \"ngModel\", \"ngModelChange\"], [\"optionLabel\", \"name\", \"filterBy\", \"name\", \"placeholder\", \"Select a Test Suite\", 3, \"required\", \"options\", \"ngModel\", \"filter\", \"showClear\", \"ngModelChange\"], [\"pTemplate\", \"selectedItem\"], [\"pTemplate\", \"item\"], [\"pTemplate\", \"footer\"], [\"header\", \"Test Suite\", 3, \"visible\", \"modal\", \"draggable\", \"resizable\", \"visibleChange\"], [1, \"testSuiteContainer\"], [1, \"test-suite-name\", 3, \"click\"], [2, \"width\", \"10px\", \"display\", \"inline-block\"], [1, \"test-suite-icons\"], [1, \"pi\", \"pi-plus\", 3, \"click\"], [1, \"pi\", \"pi-pencil\", 3, \"click\"], [1, \"pi\", \"pi-trash\", 3, \"click\"], [3, \"ngClass\"], [3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\"], [\"icon\", \"pi pi-times\", \"label\", \"Cancel\", \"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", 1, \"p-button-danger\", 3, \"click\"], [\"icon\", \"pi pi-check\", \"label\", \"Save\", \"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", 1, \"p-button-primary\", 3, \"click\"]],\n    template: function TestListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"aside\")(2, \"div\", 1)(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function TestListComponent_Template_button_click_3_listener() {\n          return ctx.showTestSuiteSaveDialog();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"button\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\")(6, \"ul\", 4);\n        i0.ɵɵtemplate(7, TestListComponent_div_7_Template, 12, 4, \"div\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"app-test-case\", 7);\n        i0.ɵɵlistener(\"deleteTestCaseEvent\", function TestListComponent_Template_app_test_case_deleteTestCaseEvent_9_listener($event) {\n          return ctx.deleteTestCase($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"p-dialog\", 8);\n        i0.ɵɵlistener(\"visibleChange\", function TestListComponent_Template_p_dialog_visibleChange_10_listener($event) {\n          return ctx.displayModal = $event;\n        });\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"label\", 10);\n        i0.ɵɵtext(13, \"Name :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function TestListComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.testCaseName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 9)(16, \"label\", 10);\n        i0.ɵɵtext(17, \"Test Suite :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"p-dropdown\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function TestListComponent_Template_p_dropdown_ngModelChange_18_listener($event) {\n          return ctx.selectedTestSuite = $event;\n        });\n        i0.ɵɵtemplate(19, TestListComponent_ng_template_19_Template, 2, 1, \"ng-template\", 13);\n        i0.ɵɵtemplate(20, TestListComponent_ng_template_20_Template, 2, 1, \"ng-template\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(21, TestListComponent_ng_template_21_Template, 2, 0, \"ng-template\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"p-dialog\", 16);\n        i0.ɵɵlistener(\"visibleChange\", function TestListComponent_Template_p_dialog_visibleChange_22_listener($event) {\n          return ctx.displayTestSuiteModal = $event;\n        });\n        i0.ɵɵelementStart(23, \"div\", 9)(24, \"label\", 10);\n        i0.ɵɵtext(25, \"Name :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function TestListComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.testSuiteName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(27, TestListComponent_ng_template_27_Template, 2, 0, \"ng-template\", 15);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.itemList);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"testSuite\", ctx.selectedTestSuite)(\"testCase\", ctx.selectedTestCase);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(24, _c1));\n        i0.ɵɵproperty(\"visible\", ctx.displayModal)(\"modal\", true)(\"draggable\", true)(\"resizable\", false);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(25, _c2, !ctx.validTestCaseName()))(\"ngModel\", ctx.testCaseName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"required\", true)(\"options\", ctx.testSuiteList)(\"ngModel\", ctx.selectedTestSuite)(\"filter\", true)(\"showClear\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(27, _c1));\n        i0.ɵɵproperty(\"visible\", ctx.displayTestSuiteModal)(\"modal\", true)(\"draggable\", true)(\"resizable\", false);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c2, !ctx.validTestSuiteName()))(\"ngModel\", ctx.testSuiteName);\n      }\n    },\n    directives: [i2.ButtonDirective, i3.NgForOf, i3.NgClass, i4.TestCaseComponent, i5.Dialog, i6.DefaultValueAccessor, i7.InputText, i6.NgControlStatus, i6.NgModel, i8.Dropdown, i6.RequiredValidator, i9.PrimeTemplate],\n    styles: [\"p-slideMenu[_ngcontent-%COMP%]{float:left;height:calc(100% - 40px)}p-slideMenu[_ngcontent-%COMP%]     .p-slidemenu{height:100%;border:0}p-slideMenu[_ngcontent-%COMP%]     .p-slidemenu-wrapper{height:100%!important}p-slideMenu[_ngcontent-%COMP%]     .p-slidemenu-content{height:calc(100% - 45px)!important}.container[_ngcontent-%COMP%]{max-height:100%;margin-left:0;display:inline-block;border:1px solid #dee2e6;padding:1vh;width:calc(100% - 36rem)}aside[_ngcontent-%COMP%]{height:100%;border:1px solid #dee2e6}aside[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{height:40px;vertical-align:middle;display:table-cell;padding:0 10px;width:12rem}aside[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px;width:28px;margin:auto}.float-right[_ngcontent-%COMP%]{float:right}label[_ngcontent-%COMP%]{padding-right:10px}.form-group[_ngcontent-%COMP%]{padding-bottom:5px;margin:0}p-dialog[_ngcontent-%COMP%]     .p-dialog-content{padding-top:37px;overflow:visible}p-dialog[_ngcontent-%COMP%]     .p-dialog-header{padding:17px 24px;border-bottom:2px solid gray;background:aliceblue}.testSuiteContainer[_ngcontent-%COMP%]{padding-bottom:5px}.testSuite[_ngcontent-%COMP%]{list-style:none;padding-left:1vw;font-size:20px;overflow:auto;max-height:calc(100vh - 70px)}.testSuite[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.testSuite[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:2vw}.inactive-test-suite[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease-out;overflow:hidden}.active-test-suite[_ngcontent-%COMP%]{max-height:100vh;transition:max-height .5s ease-in;overflow:hidden}.selected-testcase[_ngcontent-%COMP%]{color:#3199f3}.test-suite-icons[_ngcontent-%COMP%]{float:right;margin-right:8px;margin-left:4px}.test-suite-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;padding:2px;color:#6c757d}.test-suite-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#3199f3;cursor:pointer}.test-suite-name[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 80px);cursor:pointer}.testSuite[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return TestListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}